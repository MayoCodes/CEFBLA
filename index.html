<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FitZone Challenge - Powerlifting Competition</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background-color: #0a0a0a;
            color: #ffffff;
            overflow-x: hidden;
        }

        /* Navbar */
        nav {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            background: rgba(10, 10, 10, 0.85);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        nav.scrolled {
            background: rgba(10, 10, 10, 0.95);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.5);
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 1.5rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .nav-logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .nav-logo-img {
            width: 45px;
            height: 45px;
            object-fit: contain;
        }

        .nav-logo-text {
            font-size: 1.5rem;
            font-weight: 900;
            letter-spacing: -0.5px;
            color: #ffffff;
        }

        .nav-logo-text span {
            color: #e63946;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            list-style: none;
        }

        .nav-links a {
            color: #aaa;
            text-decoration: none;
            font-weight: 500;
            font-size: 0.95rem;
            transition: color 0.3s ease;
            position: relative;
        }

        .nav-links a:hover {
            color: #ffffff;
        }



        /* Countdown Section - Positioned under Navbar */
        .countdown-section {
            position: fixed;
            top: 85px;
            left: 0;
            right: 0;
            z-index: 999;
            background: rgba(10, 10, 10, 0.9);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding: 1.5rem 2rem;
            transition: all 0.3s ease;
        }

        .countdown-section.scrolled {
            padding: 1rem 2rem;
        }

        .countdown-container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 1rem;
        }

        .countdown-title {
            font-size: 1rem;
            color: #ffffff;
            font-weight: 700;
            letter-spacing: -0.5px;
            white-space: nowrap;
        }

        .countdown {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            flex-wrap: wrap;
        }

        .countdown-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            min-width: 70px;
        }

        .countdown-value {
            font-size: 2rem;
            font-weight: 800;
            color: #e63946;
            display: block;
            margin-bottom: 0.25rem;
        }

        .countdown-label {
            font-size: 0.7rem;
            color: #999;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 600;
        }

        /* Parallax Container */
        .parallax-container {
            position: relative;
            overflow: hidden;
        }

        /* Hero Section with Parallax */
        .hero {
            height: 100vh;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: 155px;
        }

        .hero-background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.7)),
                url('https://images.unsplash.com/photo-1534438327276-14e5300c3a48?w=1600&q=80') center/cover;
            transform: translateZ(0);
        }

        .hero-content {
            position: relative;
            z-index: 2;
            text-align: center;
            animation: fadeInUp 1s ease-out;
        }

        .hero h1 {
            font-size: 5rem;
            font-weight: 900;
            letter-spacing: -3px;
            margin-bottom: 1rem;
            color: #ffffff;
            text-shadow: 2px 2px 20px rgba(0, 0, 0, 0.8);
        }

        .hero .subtitle {
            font-size: 1.3rem;
            color: #cccccc;
            margin-bottom: 2rem;
            font-weight: 500;
            letter-spacing: 4px;
        }

        /* Section Title */
        .section-title {
            font-size: 2.5rem;
            text-align: center;
            margin-bottom: 3rem;
            font-weight: 800;
            letter-spacing: -1px;
        }

        /* Auth Modal */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(5px);
            z-index: 10000;
            justify-content: center;
            align-items: center;
            animation: fadeIn 0.3s ease-out;
        }

        .modal-overlay.active {
            display: flex;
        }

        .auth-modal {
            background: rgba(26, 26, 26, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 3rem;
            width: 90%;
            max-width: 450px;
            position: relative;
            animation: fadeInUp 0.4s ease-out;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }

        .modal-close {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            background: none;
            border: none;
            color: #999;
            font-size: 1.5rem;
            cursor: pointer;
            transition: color 0.3s ease;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
        }

        .modal-close:hover {
            color: #ffffff;
            background: rgba(255, 255, 255, 0.1);
        }

        .auth-modal h2 {
            font-size: 2rem;
            margin-bottom: 0.5rem;
            color: #ffffff;
            font-weight: 800;
            letter-spacing: -1px;
        }

        .auth-modal p {
            color: #999;
            margin-bottom: 2rem;
            font-size: 0.95rem;
        }

        .auth-tabs {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .auth-tab {
            padding: 0.75rem 1.5rem;
            background: none;
            border: none;
            color: #999;
            font-weight: 600;
            font-size: 0.95rem;
            cursor: pointer;
            transition: all 0.3s ease;
            border-bottom: 2px solid transparent;
            font-family: 'Inter', sans-serif;
        }

        .auth-tab.active {
            color: #e63946;
            border-bottom-color: #e63946;
        }

        .auth-form {
            display: none;
        }

        .auth-form.active {
            display: block;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #ddd;
            font-weight: 600;
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .form-group input {
            width: 100%;
            padding: 0.875rem 1rem;
            background: rgba(15, 15, 15, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            color: #ffffff;
            font-size: 1rem;
            transition: all 0.3s ease;
            font-family: 'Inter', sans-serif;
        }

        .form-group input:focus {
            outline: none;
            border-color: #e63946;
            box-shadow: 0 0 0 3px rgba(230, 57, 70, 0.1);
        }

        .exercise-inputs {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
        }

        .auth-btn {
            width: 100%;
            padding: 1rem;
            background: #e63946;
            border: none;
            border-radius: 8px;
            color: #ffffff;
            font-size: 1rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Inter', sans-serif;
            margin-top: 0.5rem;
        }

        .auth-btn:hover {
            background: #d62839;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(230, 57, 70, 0.3);
        }

        .auth-btn:disabled {
            background: #666;
            cursor: not-allowed;
            transform: none;
        }

        .auth-divider {
            display: flex;
            align-items: center;
            margin: 2rem 0;
            color: #666;
            font-size: 0.875rem;
        }

        .auth-divider::before,
        .auth-divider::after {
            content: '';
            flex: 1;
            height: 1px;
            background: rgba(255, 255, 255, 0.1);
        }

        .auth-divider span {
            padding: 0 1rem;
        }

        .google-btn {
            width: 100%;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            color: #ffffff;
            font-size: 0.95rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Inter', sans-serif;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
        }

        .google-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(255, 255, 255, 0.2);
        }

        .error-message {
            display: none;
            padding: 0.875rem;
            background: rgba(230, 57, 70, 0.1);
            border: 1px solid rgba(230, 57, 70, 0.3);
            border-radius: 8px;
            color: #e63946;
            margin-bottom: 1rem;
            font-size: 0.875rem;
        }

        .error-message.show {
            display: block;
        }

        /* Dashboard Modal */
        .dashboard-modal {
            background: rgba(26, 26, 26, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 3rem;
            width: 90%;
            max-width: 600px;
            position: relative;
            animation: fadeInUp 0.4s ease-out;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            max-height: 90vh;
            overflow-y: auto;
        }

        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }

        .dashboard-header h2 {
            font-size: 2rem;
            color: #ffffff;
            font-weight: 800;
            letter-spacing: -1px;
            margin: 0;
        }

        .logout-btn {
            padding: 0.5rem 1rem;
            background: rgba(230, 57, 70, 0.1);
            border: 1px solid rgba(230, 57, 70, 0.3);
            border-radius: 8px;
            color: #e63946;
            font-size: 0.875rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Inter', sans-serif;
        }

        .logout-btn:hover {
            background: rgba(230, 57, 70, 0.2);
            border-color: #e63946;
        }

        .user-stats {
            background: rgba(15, 15, 15, 0.8);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        .user-stats h3 {
            font-size: 0.875rem;
            color: #999;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 1rem;
        }

        .stats-row {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
        }

        .stat-item {
            text-align: center;
        }

        .stat-item .label {
            font-size: 0.75rem;
            color: #666;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 0.25rem;
        }

        .stat-item .value {
            font-size: 1.5rem;
            font-weight: 800;
            color: #e63946;
        }

        .achievement-section {
            margin-bottom: 2rem;
        }

        .achievement-section h3 {
            font-size: 1.25rem;
            color: #ffffff;
            font-weight: 700;
            margin-bottom: 1.5rem;
        }

        .current-achievements {
            display: grid;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .achievement-card {
            background: rgba(15, 15, 15, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 1.25rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .achievement-card .exercise-name {
            font-size: 0.875rem;
            color: #999;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .achievement-card .exercise-stats {
            font-size: 1.25rem;
            color: #ffffff;
            font-weight: 700;
        }

        .achievement-card .volume {
            font-size: 1rem;
            color: #e63946;
            font-weight: 700;
        }

        .success-message-dashboard {
            display: none;
            padding: 0.875rem;
            background: rgba(68, 255, 68, 0.1);
            border: 1px solid rgba(68, 255, 68, 0.3);
            border-radius: 8px;
            color: #44ff44;
            margin-bottom: 1rem;
            font-size: 0.875rem;
            font-weight: 600;
        }

        .success-message-dashboard.show {
            display: block;
            animation: fadeIn 0.3s ease-out;
        }


        /* Leaderboard Section */
        .leaderboard-section {
            padding: 6rem 2rem;
            background: 
                linear-gradient(rgba(17, 17, 17, 0.95), rgba(17, 17, 17, 0.95)),
                url('https://images.unsplash.com/photo-1554284126-aa88f22d8b74?w=1600&q=80') center/cover fixed;
            position: relative;
        }

        .leaderboard-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .leaderboard-tabs {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 3rem;
            flex-wrap: wrap;
        }

        .tab-btn {
            padding: 0.875rem 1.75rem;
            background: rgba(26, 26, 26, 0.8);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            color: #999;
            font-size: 0.95rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-family: 'Inter', sans-serif;
        }

        .tab-btn.active {
            background: #e63946;
            border-color: #e63946;
            color: #ffffff;
        }

        .tab-btn:hover {
            border-color: #e63946;
            color: #ffffff;
        }

        .leaderboard-table {
            width: 100%;
            background: rgba(26, 26, 26, 0.8);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .leaderboard-table table {
            width: 100%;
            border-collapse: collapse;
        }

        .leaderboard-table thead {
            background: rgba(15, 15, 15, 0.9);
        }

        .leaderboard-table th {
            padding: 1.25rem 1.5rem;
            text-align: left;
            color: #e63946;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-size: 0.8rem;
        }

        .leaderboard-table tbody tr {
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            transition: all 0.2s ease;
        }

        .leaderboard-table tbody tr:hover {
            background: rgba(230, 57, 70, 0.05);
        }

        .leaderboard-table td {
            padding: 1.25rem 1.5rem;
            color: #ccc;
            font-size: 0.95rem;
        }

        .rank {
            font-weight: 700;
            font-size: 1.1rem;
            color: #e63946;
        }

        .rank-1 { color: #FFD700; }
        .rank-2 { color: #C0C0C0; }
        .rank-3 { color: #CD7F32; }

        .total-weight {
            font-weight: 700;
            color: #ffffff;
            font-size: 1rem;
        }

        /* Stats Section */
        .stats-section {
            padding: 6rem 2rem;
            background: 
                linear-gradient(rgba(10, 10, 10, 0.95), rgba(10, 10, 10, 0.95)),
                url('https://images.unsplash.com/photo-1581009146145-b5ef050c2e1e?w=1600&q=80') center/cover fixed;
        }

        .stats-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .stat-card {
            background: rgba(26, 26, 26, 0.8);
            backdrop-filter: blur(10px);
            padding: 2rem;
            border-radius: 16px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .stat-card h3 {
            font-size: 0.875rem;
            color: #999;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 1rem;
            font-weight: 600;
        }

        .stat-value {
            font-size: 2.5rem;
            font-weight: 800;
            color: #e63946;
            margin-bottom: 0.5rem;
        }

        .chart-container {
            height: 250px;
            margin-top: 1.5rem;
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Scroll Animations */
        .scroll-animate {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.6s ease-out;
        }

        .scroll-animate.active {
            opacity: 1;
            transform: translateY(0);
        }

        /* Mobile Nav */
        .mobile-menu {
            display: none;
            cursor: pointer;
            flex-direction: column;
            gap: 5px;
        }

        .mobile-menu span {
            width: 25px;
            height: 3px;
            background: #fff;
            transition: all 0.3s ease;
        }

        @media (max-width: 768px) {
            .nav-container {
                padding: 1.25rem 1.5rem;
            }

            .nav-logo-img {
                width: 38px;
                height: 38px;
            }

            .nav-logo-text {
                font-size: 1.25rem;
            }

            .nav-links {
                position: fixed;
                top: 85px;
                left: -100%;
                width: 100%;
                background: rgba(10, 10, 10, 0.98);
                backdrop-filter: blur(10px);
                flex-direction: column;
                padding: 2rem;
                transition: left 0.3s ease;
            }

            .nav-links.active {
                left: 0;
            }

            .mobile-menu {
                display: flex;
            }

            .countdown-section {
                padding: 1rem 1.5rem;
            }

            .countdown-container {
                gap: 0.75rem;
            }

            .countdown-title {
                font-size: 0.875rem;
            }

            .countdown {
                gap: 1rem;
            }

            .countdown-item {
                min-width: 60px;
            }

            .countdown-value {
                font-size: 1.5rem;
            }

            .hero {
                margin-top: 200px;
            }

            .hero h1 {
                font-size: 3rem;
            }

            .section-title {
                font-size: 2rem;
            }

            .achievement-form {
                padding: 2rem;
            }

            .leaderboard-table {
                overflow-x: auto;
            }
        }
    </style>
</head>
<body>
    <!-- Navbar -->
    <nav id="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <img src="https://images.unsplash.com/photo-1517836357463-d25dfeac3438?w=100&h=100&fit=crop&q=80" alt="FitZone Logo" class="nav-logo-img">
                <div class="nav-logo-text">FIT<span>ZONE</span></div>
            </div>
            <ul class="nav-links" id="navLinks">
                <li><a href="#home">Home</a></li>
                <li><a href="#leaderboard">Leaderboard</a></li>
                <li><a href="#stats">Stats</a></li>
                <li><a href="#" id="authLink">Sign Up / Dashboard</a></li>
            </ul>
            <div class="mobile-menu" id="mobileMenu">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- Countdown Section - Under Navbar -->
    <section class="countdown-section" id="countdown">
        <div class="countdown-container">
            <h2 class="countdown-title">Challenge Starts In</h2>
            <div class="countdown">
                <div class="countdown-item">
                    <span class="countdown-value" id="days">00</span>
                    <span class="countdown-label">Days</span>
                </div>
                <div class="countdown-item">
                    <span class="countdown-value" id="hours">00</span>
                    <span class="countdown-label">Hours</span>
                </div>
                <div class="countdown-item">
                    <span class="countdown-value" id="minutes">00</span>
                    <span class="countdown-label">Minutes</span>
                </div>
                <div class="countdown-item">
                    <span class="countdown-value" id="seconds">00</span>
                    <span class="countdown-label">Seconds</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Hero Section -->
    <section class="hero parallax-container" id="home">
        <div class="hero-background" id="heroBackground"></div>
        <div class="hero-content">
            <h1>FITZONE CHALLENGE</h1>
            <p class="subtitle">SQUAT • DEADLIFT • BENCH PRESS</p>
        </div>
    </section>

    <!-- Leaderboard Section -->
    <section class="leaderboard-section scroll-animate" id="leaderboard">
        <div class="leaderboard-container">
            <h2 class="section-title">Leaderboard</h2>
            
            <div class="leaderboard-tabs">
                <button class="tab-btn active" onclick="window.switchTab('squat')">Squat</button>
                <button class="tab-btn" onclick="window.switchTab('deadlift')">Deadlift</button>
                <button class="tab-btn" onclick="window.switchTab('benchpress')">Bench Press</button>
                <button class="tab-btn" onclick="window.switchTab('overall')">Overall</button>
            </div>

            <div class="leaderboard-table">
                <table>
                    <thead>
                        <tr>
                            <th>Rank</th>
                            <th>Participant</th>
                            <th>Weight (lbs)</th>
                            <th>Sets</th>
                            <th>Reps</th>
                            <th>Total Volume</th>
                        </tr>
                    </thead>
                    <tbody id="leaderboardBody">
                        <!-- Dynamic content will be inserted here -->
                    </tbody>
                </table>
            </div>
        </div>
    </section>

    <!-- Stats Section -->
    <section class="stats-section scroll-animate" id="stats">
        <div class="stats-container">
            <h2 class="section-title">Competition Statistics</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <h3>Total Participants</h3>
                    <div class="stat-value" id="totalParticipants">0</div>
                    <div class="chart-container">
                        <canvas id="participationChart"></canvas>
                    </div>
                </div>
                <div class="stat-card">
                    <h3>Total Volume Lifted</h3>
                    <div class="stat-value" id="totalVolume">0</div>
                    <p style="color: #999; font-size: 0.875rem; margin-top: 0.5rem;">pounds across all exercises</p>
                </div>
                <div class="stat-card">
                    <h3>Exercise Distribution</h3>
                    <div class="chart-container">
                        <canvas id="exerciseChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Dashboard Modal -->
    <div class="modal-overlay" id="dashboardModal">
        <div class="dashboard-modal">
            <button class="modal-close" id="closeDashboard">&times;</button>
            
            <div class="dashboard-header">
                <h2>My Dashboard</h2>
                <button class="logout-btn" id="logoutBtn">Sign Out</button>
            </div>

            <div class="user-stats">
                <h3>Your Best Lifts</h3>
                <div class="stats-row">
                    <div class="stat-item">
                        <div class="label">Squat</div>
                        <div class="value" id="userSquat">-</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Deadlift</div>
                        <div class="value" id="userDeadlift">-</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Bench</div>
                        <div class="value" id="userBench">-</div>
                    </div>
                </div>
            </div>

            <div class="achievement-section">
                <h3>Log New Achievement</h3>
                <div class="success-message-dashboard" id="successMessageDashboard">Achievement saved successfully!</div>
                <form id="dashboardAchievementForm">
                    <div class="form-group">
                        <label for="dashboardExercise">Exercise Type</label>
                        <select id="dashboardExercise" required>
                            <option value="">Select Exercise</option>
                            <option value="squat">Squat</option>
                            <option value="deadlift">Deadlift</option>
                            <option value="benchpress">Bench Press</option>
                        </select>
                    </div>

                    <div class="exercise-inputs">
                        <div class="form-group">
                            <label for="dashboardWeight">Weight (lbs)</label>
                            <input type="number" id="dashboardWeight" required placeholder="0" min="0" step="0.5">
                        </div>
                        <div class="form-group">
                            <label for="dashboardSets">Sets</label>
                            <input type="number" id="dashboardSets" required placeholder="0" min="1">
                        </div>
                        <div class="form-group">
                            <label for="dashboardReps">Reps</label>
                            <input type="number" id="dashboardReps" required placeholder="0" min="1">
                        </div>
                    </div>

                    <button type="submit" class="auth-btn">Save Achievement</button>
                </form>
            </div>

            <div class="current-achievements">
                <h3 style="font-size: 1rem; color: #999; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 1rem;">Current Records</h3>
                <div class="achievement-card">
                    <div>
                        <div class="exercise-name">Squat</div>
                        <div class="exercise-stats" id="squatStats">Not logged</div>
                    </div>
                    <div class="volume" id="squatVolume">-</div>
                </div>
                <div class="achievement-card">
                    <div>
                        <div class="exercise-name">Deadlift</div>
                        <div class="exercise-stats" id="deadliftStats">Not logged</div>
                    </div>
                    <div class="volume" id="deadliftVolume">-</div>
                </div>
                <div class="achievement-card">
                    <div>
                        <div class="exercise-name">Bench Press</div>
                        <div class="exercise-stats" id="benchStats">Not logged</div>
                    </div>
                    <div class="volume" id="benchVolume">-</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Auth Modal -->
    <div class="modal-overlay" id="authModal">
        <div class="auth-modal">
            <button class="modal-close" id="closeModal">&times;</button>
            <h2>Welcome to FitZone</h2>
            <p>Join the challenge and track your progress</p>

            <div class="auth-tabs">
                <button class="auth-tab active" data-tab="signup">Sign Up</button>
                <button class="auth-tab" data-tab="login">Login</button>
            </div>

            <div class="error-message" id="errorMessage"></div>

            <!-- Sign Up Form -->
            <form class="auth-form active" id="signupForm">
                <div class="form-group">
                    <label for="signupEmail">Email</label>
                    <input type="email" id="signupEmail" required placeholder="your@email.com">
                </div>
                <div class="form-group">
                    <label for="signupPassword">Password</label>
                    <input type="password" id="signupPassword" required placeholder="Min. 6 characters">
                </div>
                <div class="form-group">
                    <label for="signupName">Display Name</label>
                    <input type="text" id="signupName" required placeholder="Your name">
                </div>
                <button type="submit" class="auth-btn">Create Account</button>
            </form>

            <!-- Login Form -->
            <form class="auth-form" id="loginForm">
                <div class="form-group">
                    <label for="loginEmail">Email</label>
                    <input type="email" id="loginEmail" required placeholder="your@email.com">
                </div>
                <div class="form-group">
                    <label for="loginPassword">Password</label>
                    <input type="password" id="loginPassword" required placeholder="Your password">
                </div>
                <button type="submit" class="auth-btn">Sign In</button>
            </form>

            <div class="auth-divider">
                <span>OR</span>
            </div>

            <button class="google-btn" id="googleSignIn">
                <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M17.64 9.2c0-.637-.057-1.251-.164-1.84H9v3.481h4.844c-.209 1.125-.843 2.078-1.796 2.717v2.258h2.908c1.702-1.567 2.684-3.874 2.684-6.615z" fill="#4285F4"/>
                    <path d="M9 18c2.43 0 4.467-.806 5.956-2.18l-2.908-2.259c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H.957v2.332C2.438 15.983 5.482 18 9 18z" fill="#34A853"/>
                    <path d="M3.964 10.71c-.18-.54-.282-1.117-.282-1.71 0-.593.102-1.17.282-1.71V4.958H.957C.347 6.173 0 7.548 0 9s.348 2.827.957 4.042l3.007-2.332z" fill="#FBBC05"/>
                    <path d="M9 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.463.891 11.426 0 9 0 5.482 0 2.438 2.017.957 4.958L3.964 7.29C4.672 5.163 6.656 3.58 9 3.58z" fill="#EA4335"/>
                </svg>
                Continue with Google
            </button>
        </div>
    </div>

    <script type="module">
        // Import Firebase SDK v10+ (modular)
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js';
        import { 
            getAuth, 
            createUserWithEmailAndPassword, 
            signInWithEmailAndPassword,
            signInWithPopup,
            GoogleAuthProvider,
            onAuthStateChanged,
            signOut,
            updateProfile
        } from 'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';
        import { 
            getFirestore, 
            collection, 
            doc, 
            setDoc, 
            getDoc,
            getDocs,
            query,
            onSnapshot,
            serverTimestamp 
        } from 'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';

        // Firebase configuration - REPLACE WITH YOUR CONFIG
        const firebaseConfig = {
            apiKey: "AIzaSyCkTEeWRXFH2N6Ttw0_ioP-cqImZFVbq5Q",
            authDomain: "fblatryouts.firebaseapp.com",
            projectId: "fblatryouts",
            storageBucket: "fblatryouts.firebasestorage.app",
            messagingSenderId: "337219854324",
            appId: "1:337219854324:web:799ebe988c8cf565a663a1"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);
        const googleProvider = new GoogleAuthProvider();

        // Global variable to track current user
        window.currentUser = null;

        // Auth state observer
        onAuthStateChanged(auth, (user) => {
            window.currentUser = user;
            updateAuthUI(user);
            if (user) {
                // Close auth modal if open
                document.getElementById('authModal').classList.remove('active');
                // Show dashboard modal
                loadUserDashboard(user);
            }
        });

        function updateAuthUI(user) {
            const authLink = document.getElementById('authLink');
            if (user) {
                authLink.textContent = 'Dashboard';
            } else {
                authLink.textContent = 'Sign Up / Dashboard';
            }
        }

        function showError(message) {
            const errorDiv = document.getElementById('errorMessage');
            errorDiv.textContent = message;
            errorDiv.classList.add('show');
            setTimeout(() => errorDiv.classList.remove('show'), 5000);
        }

        // Load User Dashboard
        async function loadUserDashboard(user) {
            const userDocRef = doc(db, 'users', user.uid);
            const userDoc = await getDoc(userDocRef);

            if (userDoc.exists()) {
                const data = userDoc.data();
                const achievements = data.achievements || {};

                // Update dashboard stats
                document.getElementById('userSquat').textContent = achievements.squat ? `${achievements.squat.weight} lbs` : '-';
                document.getElementById('userDeadlift').textContent = achievements.deadlift ? `${achievements.deadlift.weight} lbs` : '-';
                document.getElementById('userBench').textContent = achievements.benchpress ? `${achievements.benchpress.weight} lbs` : '-';

                // Update current records
                updateRecordDisplay('squat', achievements.squat);
                updateRecordDisplay('deadlift', achievements.deadlift);
                updateRecordDisplay('benchpress', achievements.benchpress);
            }
        }

        function updateRecordDisplay(exercise, achievement) {
            const statsId = exercise === 'benchpress' ? 'benchStats' : `${exercise}Stats`;
            const volumeId = exercise === 'benchpress' ? 'benchVolume' : `${exercise}Volume`;

            if (achievement) {
                document.getElementById(statsId).textContent = 
                    `${achievement.weight} lbs × ${achievement.sets} sets × ${achievement.reps} reps`;
                document.getElementById(volumeId).textContent = 
                    `${achievement.totalVolume.toLocaleString()} lbs total`;
            } else {
                document.getElementById(statsId).textContent = 'Not logged';
                document.getElementById(volumeId).textContent = '-';
            }
        }

        // Save Achievement to Firestore
        async function saveAchievement(user, exercise, weight, sets, reps) {
            const totalVolume = weight * sets * reps;
            const userDocRef = doc(db, 'users', user.uid);

            const achievementData = {
                weight: weight,
                sets: sets,
                reps: reps,
                totalVolume: totalVolume,
                timestamp: serverTimestamp()
            };

            // Get current user data
            const userDoc = await getDoc(userDocRef);
            
            if (userDoc.exists()) {
                const currentData = userDoc.data();
                const currentAchievements = currentData.achievements || {};
                
                // Only update if this is better than current record
                if (!currentAchievements[exercise] || totalVolume > currentAchievements[exercise].totalVolume) {
                    currentAchievements[exercise] = achievementData;
                    
                    await setDoc(userDocRef, {
                        displayName: user.displayName || user.email,
                        email: user.email,
                        achievements: currentAchievements
                    }, { merge: true });
                    
                    return true;
                } else {
                    return false; // Not a new record
                }
            } else {
                // First achievement for this user
                await setDoc(userDocRef, {
                    displayName: user.displayName || user.email,
                    email: user.email,
                    achievements: {
                        [exercise]: achievementData
                    }
                });
                return true;
            }
        }

        // Load Leaderboard from Firestore with Real-Time Updates
        function setupLeaderboardListeners() {
            const usersRef = collection(db, 'users');
            
            onSnapshot(usersRef, (snapshot) => {
                const allUsers = [];
                
                snapshot.forEach((doc) => {
                    const userData = doc.data();
                    if (userData.achievements) {
                        allUsers.push({
                            userId: doc.id,
                            displayName: userData.displayName,
                            achievements: userData.achievements
                        });
                    }
                });

                // Update the global leaderboard display
                updateLeaderboardFromFirestore(allUsers);
                updateStatsFromFirestore(allUsers);
            });
        }

        function updateLeaderboardFromFirestore(users) {
            // Store in window for tab switching
            window.firestoreUsers = users;
            
            // Update current active tab
            const activeTab = document.querySelector('.tab-btn.active');
            if (activeTab) {
                const exercise = activeTab.textContent.toLowerCase().replace(' ', '');
                displayLeaderboardForExercise(exercise, users);
            }
        }

        function displayLeaderboardForExercise(exercise, users) {
            const tbody = document.getElementById('leaderboardBody');
            let data = [];

            if (exercise === 'overall') {
                // Calculate overall scores
                users.forEach(user => {
                    let totalVolume = 0;
                    let totalWeight = 0;
                    let totalSets = 0;
                    let totalReps = 0;

                    ['squat', 'deadlift', 'benchpress'].forEach(ex => {
                        if (user.achievements[ex]) {
                            totalVolume += user.achievements[ex].totalVolume;
                            totalWeight += user.achievements[ex].weight;
                            totalSets += user.achievements[ex].sets;
                            totalReps += user.achievements[ex].reps;
                        }
                    });

                    if (totalVolume > 0) {
                        data.push({
                            name: user.displayName,
                            weight: totalWeight,
                            sets: totalSets,
                            reps: totalReps,
                            totalVolume: totalVolume
                        });
                    }
                });
            } else {
                // Single exercise leaderboard
                const exerciseKey = exercise === 'benchpress' ? 'benchpress' : exercise;
                
                users.forEach(user => {
                    if (user.achievements[exerciseKey]) {
                        const ach = user.achievements[exerciseKey];
                        data.push({
                            name: user.displayName,
                            weight: ach.weight,
                            sets: ach.sets,
                            reps: ach.reps,
                            totalVolume: ach.totalVolume
                        });
                    }
                });
            }

            // Sort by total volume
            data.sort((a, b) => b.totalVolume - a.totalVolume);

            // Generate table rows
            tbody.innerHTML = '';
            data.forEach((item, index) => {
                const row = document.createElement('tr');
                const rankClass = index === 0 ? 'rank-1' : index === 1 ? 'rank-2' : index === 2 ? 'rank-3' : 'rank';
                
                row.innerHTML = `
                    <td><span class="${rankClass}">${index + 1}</span></td>
                    <td>${item.name}</td>
                    <td>${item.weight} lbs</td>
                    <td>${item.sets}</td>
                    <td>${item.reps}</td>
                    <td class="total-weight">${item.totalVolume.toLocaleString()} lbs</td>
                `;
                tbody.appendChild(row);
            });

            // If no data, show placeholder
            if (data.length === 0) {
                tbody.innerHTML = '<tr><td colspan="6" style="text-align: center; color: #888888; padding: 3rem;">No achievements logged yet. Be the first!</td></tr>';
            }
        }

        // Make displayLeaderboardForExercise globally accessible
        window.displayLeaderboardForExercise = displayLeaderboardForExercise;

        function updateStatsFromFirestore(users) {
            // Calculate total participants
            const totalParticipants = users.length;
            document.getElementById('totalParticipants').textContent = totalParticipants;

            // Calculate total volume and exercise counts
            let totalVolume = 0;
            const exerciseCounts = { squat: 0, deadlift: 0, benchpress: 0 };
            const exerciseVolumes = { squat: 0, deadlift: 0, benchpress: 0 };

            users.forEach(user => {
                ['squat', 'deadlift', 'benchpress'].forEach(exercise => {
                    if (user.achievements[exercise]) {
                        totalVolume += user.achievements[exercise].totalVolume;
                        exerciseCounts[exercise]++;
                        exerciseVolumes[exercise] += user.achievements[exercise].totalVolume;
                    }
                });
            });

            document.getElementById('totalVolume').textContent = totalVolume.toLocaleString();

            // Update charts
            updateChartsFromData(exerciseCounts, exerciseVolumes);
        }

        function updateChartsFromData(exerciseCounts, exerciseVolumes) {
            // Participation chart
            const ctx1 = document.getElementById('participationChart');
            if (window.participationChart) window.participationChart.destroy();
            
            window.participationChart = new Chart(ctx1, {
                type: 'bar',
                data: {
                    labels: ['Squat', 'Deadlift', 'Bench Press'],
                    datasets: [{
                        label: 'Participants',
                        data: [exerciseCounts.squat, exerciseCounts.deadlift, exerciseCounts.benchpress],
                        backgroundColor: ['#e63946', '#f77f00', '#06ffa5'],
                        borderRadius: 8
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: { color: '#999' },
                            grid: { color: 'rgba(255,255,255,0.05)' }
                        },
                        x: {
                            ticks: { color: '#999' },
                            grid: { display: false }
                        }
                    }
                }
            });

            // Exercise distribution chart
            const ctx2 = document.getElementById('exerciseChart');
            if (window.exerciseChart) window.exerciseChart.destroy();

            window.exerciseChart = new Chart(ctx2, {
                type: 'doughnut',
                data: {
                    labels: ['Squat', 'Deadlift', 'Bench Press'],
                    datasets: [{
                        data: [exerciseVolumes.squat, exerciseVolumes.deadlift, exerciseVolumes.benchpress],
                        backgroundColor: ['#e63946', '#f77f00', '#06ffa5'],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: { color: '#999', padding: 15 }
                        }
                    }
                }
            });
        }

        // Modal controls
        const authModal = document.getElementById('authModal');
        const dashboardModal = document.getElementById('dashboardModal');
        const authLink = document.getElementById('authLink');
        const closeModal = document.getElementById('closeModal');
        const closeDashboard = document.getElementById('closeDashboard');
        const logoutBtn = document.getElementById('logoutBtn');

        authLink.addEventListener('click', (e) => {
            e.preventDefault();
            if (window.currentUser) {
                // User is logged in, show dashboard
                dashboardModal.classList.add('active');
                loadUserDashboard(window.currentUser);
            } else {
                // Show auth modal
                authModal.classList.add('active');
            }
        });

        closeModal.addEventListener('click', () => {
            authModal.classList.remove('active');
        });

        closeDashboard.addEventListener('click', () => {
            dashboardModal.classList.remove('active');
        });

        authModal.addEventListener('click', (e) => {
            if (e.target === authModal) {
                authModal.classList.remove('active');
            }
        });

        dashboardModal.addEventListener('click', (e) => {
            if (e.target === dashboardModal) {
                dashboardModal.classList.remove('active');
            }
        });

        // Logout
        logoutBtn.addEventListener('click', async () => {
            try {
                await signOut(auth);
                dashboardModal.classList.remove('active');
                alert('Signed out successfully!');
            } catch (error) {
                console.error('Sign out error:', error);
                alert('Failed to sign out: ' + error.message);
            }
        });

        // Dashboard Achievement Form
        document.getElementById('dashboardAchievementForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            if (!window.currentUser) {
                alert('Please sign in to log achievements');
                return;
            }

            const exercise = document.getElementById('dashboardExercise').value;
            const weight = parseFloat(document.getElementById('dashboardWeight').value);
            const sets = parseInt(document.getElementById('dashboardSets').value);
            const reps = parseInt(document.getElementById('dashboardReps').value);
            const btn = e.target.querySelector('.auth-btn');

            btn.disabled = true;
            btn.textContent = 'Saving...';

            try {
                const isNewRecord = await saveAchievement(window.currentUser, exercise, weight, sets, reps);
                
                // Show success message
                const successMsg = document.getElementById('successMessageDashboard');
                if (isNewRecord) {
                    successMsg.textContent = 'New record saved successfully! 🎉';
                } else {
                    successMsg.textContent = 'Achievement logged (not a new record)';
                }
                successMsg.classList.add('show');
                setTimeout(() => successMsg.classList.remove('show'), 3000);

                // Reset form
                e.target.reset();

                // Reload user dashboard
                await loadUserDashboard(window.currentUser);
            } catch (error) {
                console.error('Error saving achievement:', error);
                alert('Failed to save achievement: ' + error.message);
            } finally {
                btn.disabled = false;
                btn.textContent = 'Save Achievement';
            }
        });

        // Tab switching
        document.querySelectorAll('.auth-tab').forEach(tab => {
            tab.addEventListener('click', () => {
                const tabName = tab.dataset.tab;
                
                // Update active tab
                document.querySelectorAll('.auth-tab').forEach(t => t.classList.remove('active'));
                tab.classList.add('active');

                // Update active form
                document.querySelectorAll('.auth-form').forEach(form => {
                    form.classList.remove('active');
                });
                document.getElementById(`${tabName}Form`).classList.add('active');

                // Clear error
                document.getElementById('errorMessage').classList.remove('show');
            });
        });

        // Sign Up
        document.getElementById('signupForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const email = document.getElementById('signupEmail').value;
            const password = document.getElementById('signupPassword').value;
            const displayName = document.getElementById('signupName').value;
            const btn = e.target.querySelector('.auth-btn');

            btn.disabled = true;
            btn.textContent = 'Creating Account...';

            try {
                const userCredential = await createUserWithEmailAndPassword(auth, email, password);
                await updateProfile(userCredential.user, { displayName: displayName });
                
                // Create user document in Firestore
                await setDoc(doc(db, 'users', userCredential.user.uid), {
                    displayName: displayName,
                    email: email,
                    achievements: {},
                    createdAt: serverTimestamp()
                });
                
                authModal.classList.remove('active');
                e.target.reset();
            } catch (error) {
                console.error('Sign up error:', error);
                let errorMessage = 'Failed to create account. ';
                
                switch (error.code) {
                    case 'auth/email-already-in-use':
                        errorMessage += 'This email is already registered.';
                        break;
                    case 'auth/invalid-email':
                        errorMessage += 'Invalid email address.';
                        break;
                    case 'auth/weak-password':
                        errorMessage += 'Password should be at least 6 characters.';
                        break;
                    default:
                        errorMessage += error.message;
                }
                
                showError(errorMessage);
            } finally {
                btn.disabled = false;
                btn.textContent = 'Create Account';
            }
        });

        // Login
        document.getElementById('loginForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            const btn = e.target.querySelector('.auth-btn');

            btn.disabled = true;
            btn.textContent = 'Signing In...';

            try {
                await signInWithEmailAndPassword(auth, email, password);
                authModal.classList.remove('active');
                e.target.reset();
            } catch (error) {
                console.error('Login error:', error);
                let errorMessage = 'Failed to sign in. ';
                
                switch (error.code) {
                    case 'auth/user-not-found':
                    case 'auth/wrong-password':
                        errorMessage += 'Invalid email or password.';
                        break;
                    case 'auth/invalid-email':
                        errorMessage += 'Invalid email address.';
                        break;
                    case 'auth/too-many-requests':
                        errorMessage += 'Too many attempts. Please try again later.';
                        break;
                    default:
                        errorMessage += error.message;
                }
                
                showError(errorMessage);
            } finally {
                btn.disabled = false;
                btn.textContent = 'Sign In';
            }
        });

        // Google Sign In
        document.getElementById('googleSignIn').addEventListener('click', async () => {
            const btn = document.getElementById('googleSignIn');
            btn.disabled = true;
            
            try {
                const result = await signInWithPopup(auth, googleProvider);
                
                // Check if user document exists, create if not
                const userDocRef = doc(db, 'users', result.user.uid);
                const userDoc = await getDoc(userDocRef);
                
                if (!userDoc.exists()) {
                    await setDoc(userDocRef, {
                        displayName: result.user.displayName || result.user.email,
                        email: result.user.email,
                        achievements: {},
                        createdAt: serverTimestamp()
                    });
                }
                
                authModal.classList.remove('active');
            } catch (error) {
                console.error('Google sign in error:', error);
                let errorMessage = 'Failed to sign in with Google. ';
                
                switch (error.code) {
                    case 'auth/popup-closed-by-user':
                        errorMessage += 'Sign in cancelled.';
                        break;
                    case 'auth/popup-blocked':
                        errorMessage += 'Please allow popups for this site.';
                        break;
                    default:
                        errorMessage += error.message;
                }
                
                showError(errorMessage);
            } finally {
                btn.disabled = false;
            }
        });

        // Make signOut available globally for potential logout button
        window.firebaseSignOut = async () => {
            try {
                await signOut(auth);
                alert('Signed out successfully!');
            } catch (error) {
                console.error('Sign out error:', error);
                alert('Failed to sign out: ' + error.message);
            }
        };

        // Initialize Firestore listeners
        setupLeaderboardListeners();
    </script>

    <script>
        // Navbar scroll effect
        window.addEventListener('scroll', () => {
            const navbar = document.getElementById('navbar');
            const countdown = document.getElementById('countdown');
            if (window.scrollY > 50) {
                navbar.classList.add('scrolled');
                countdown.classList.add('scrolled');
            } else {
                navbar.classList.remove('scrolled');
                countdown.classList.remove('scrolled');
            }
        });

        // Mobile menu toggle
        document.getElementById('mobileMenu').addEventListener('click', () => {
            document.getElementById('navLinks').classList.toggle('active');
        });

        // Smooth scroll
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    document.getElementById('navLinks').classList.remove('active');
                }
            });
        });

        // Countdown Timer
        const countdownDate = new Date().getTime() + (7 * 24 * 60 * 60 * 1000); // 7 days from now

        function updateCountdown() {
            const now = new Date().getTime();
            const distance = countdownDate - now;

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            document.getElementById('days').textContent = String(days).padStart(2, '0');
            document.getElementById('hours').textContent = String(hours).padStart(2, '0');
            document.getElementById('minutes').textContent = String(minutes).padStart(2, '0');
            document.getElementById('seconds').textContent = String(seconds).padStart(2, '0');

            if (distance < 0) {
                document.querySelector('.countdown-title').textContent = 'Challenge is Live!';
            }
        }

        setInterval(updateCountdown, 1000);
        updateCountdown();

        // Switch Tabs
        window.switchTab = function(exercise) {
            // Update active tab
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');

            // Update leaderboard from Firestore data
            if (window.firestoreUsers && window.displayLeaderboardForExercise) {
                window.displayLeaderboardForExercise(exercise, window.firestoreUsers);
            }
        }

        // Parallax Effect
        window.addEventListener('scroll', () => {
            const scrolled = window.pageYOffset;
            const heroBackground = document.getElementById('heroBackground');
            
            if (heroBackground && scrolled < window.innerHeight) {
                heroBackground.style.transform = `translateY(${scrolled * 0.5}px)`;
            }
        });

        // Scroll Animations
        const observerOptions = {
            threshold: 0.15,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('active');
                }
            });
        }, observerOptions);

        document.querySelectorAll('.scroll-animate').forEach(el => {
            observer.observe(el);
        });
    </script>
</body>
</html>